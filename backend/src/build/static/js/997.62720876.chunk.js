"use strict";(self.webpackChunkdeveloper_management_system=self.webpackChunkdeveloper_management_system||[]).push([[997],{60515:function(e,n,t){t.d(n,{Z:function(){return Y}});var r=t(74165),s=t(15861),i=t(29439),o=t(73428),a=t(9019),l=t(42832),c=t(61113),d=t(57451),u=t(19536),x=t(47131),p=t(94469),h=t(33604),f=t(96467),Z=t(15480),m=t(24631),v=t(4117),j=t(69099),g=t(97762),k=t(56104),y=t(54832),b=t(6481),w=t(94425),_=t(50494),C=t(68080),T=t(49959),S=t(47313),P=t(15743),z=t(4942),I=t(1413),F=t(45987),L=t(9506),W=t(98668),A=t(94808),D=t(46417),N=["value","size","variant","thickness","showLabel","pathColor","sx"];function E(e){var n=e.value,t=e.size,r=e.variant,s=e.thickness,i=e.showLabel,o=e.pathColor,a=e.sx,l=(0,F.Z)(e,N);return(0,D.jsxs)(L.Z,{sx:{position:"relative",display:"inline-flex"},children:[(0,D.jsx)(W.Z,(0,I.Z)((0,I.Z)({variant:"determinate",sx:{color:o||"grey.200"},size:t,thickness:s},l),{},{value:100})),i&&(0,D.jsx)(L.Z,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,D.jsx)(c.Z,{variant:"caption",component:"div",color:"text.secondary",children:n?"".concat(Math.round(n),"%"):"0%"})}),(0,D.jsx)(W.Z,(0,I.Z)({variant:r,sx:(0,I.Z)((0,I.Z)({},a),{},(0,z.Z)({position:"absolute",left:0},"& .".concat(A.Z.circle),{strokeLinecap:"round"})),size:t,thickness:s,value:n},l))]})}var M=t(44450),O=t(79581),R=t(1129),H=t(58467);var Y=function(e){var n,t,z,I=e.TaskCard,F=(0,S.useState)(!1),L=(0,i.Z)(F,2),W=L[0],A=L[1],N=(0,S.useState)(!1),Y=(0,i.Z)(N,2),B=Y[0],K=Y[1],G=(0,S.useState)(100===I.percentage?"#00ff00":"#f0f0f0"),V=(0,i.Z)(G,2),q=V[0],J=V[1],Q=(0,S.useState)(100===I.percentage),U=(0,i.Z)(Q,2),X=U[0],$=U[1],ee=(0,S.useState)(I.percentage),ne=(0,i.Z)(ee,2),te=ne[0],re=ne[1],se=(0,S.useState)("#333333"),ie=(0,i.Z)(se,2),oe=ie[0],ae=ie[1],le=I.isPersonal,ce=(0,S.useState)(!1),de=(0,i.Z)(ce,2),ue=de[0],xe=de[1],pe=(0,S.useState)(I.content.split("\n")[0]),he=(0,i.Z)(pe,2),fe=he[0],Ze=he[1],me=(0,H.s0)();(0,S.useEffect)((function(){re(I.percentage),0===I.percentage?ae("#cc3333"):100===I.percentage?ae("#33cc33"):ae("#3333cc"),2===I.task_type.report_type&&ae("#00cccc")}),[I.content,I.percentage,I.task_type.report_type]);var ve=function(e){var n=e.target.value;Number(n)>100||Number(n)<0?re(0):re(Number(n))},je=function(){J("#f0f0f0"),xe(!1),re(te)},ge=function(){le?xe(!0):me("/task/edit/".concat(I._id))},ke=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(100),$(!0),e.next=4,M.Z.post("api/task/update/".concat(I._id),{percentage:100});case 4:n=e.sent,window.location.reload(),200===n.status?(0,O.WI)((0,R.ss)({open:!0,message:"You have completed.",variant:"alert",alert:{color:"success"},close:!0})):(0,O.WI)((0,R.ss)({open:!0,message:"Server has some problems.",variant:"alert",alert:{color:"error"},close:!0})),xe(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!1),re(te),e.next=4,M.Z.post("api/task/update/".concat(I._id),{percentage:te});case 4:n=e.sent,window.location.reload(),200===n.status?(0,O.WI)((0,R.ss)({open:!0,message:"You have done "+Number(te)+"%.",variant:"alert",alert:{color:"success"},close:!0})):(0,O.WI)((0,R.ss)({open:!0,message:"Server has some problems.",variant:"alert",alert:{color:"error"},close:!0})),xe(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(o.Z,{sx:{width:1,shadow:5},style:{textAlign:"left",borderRadius:"5px",border:"1px solid ".concat(oe),padding:"15px 15px 0px 15px",minWidth:"360px"},children:[(0,D.jsxs)(a.ZP,{container:!0,rowSpacing:3,columnSpacing:3,children:[(0,D.jsxs)(a.ZP,{item:!0,xs:!0,md:!0,sm:!0,lg:!0,rowSpacing:3,children:[(0,D.jsxs)(l.Z,{direction:"row",justifyContent:"space-between",marginTop:1,marginY:0,children:[(0,D.jsxs)(l.Z,{direction:"row",spacing:1,style:{alignItems:"end",width:"65%"},children:[(0,D.jsx)(c.Z,{sx:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:1},fontSize:18,width:"65%",style:{cursor:"pointer"},onClick:function(){return me("/task/edit/".concat(I._id))},children:I.title}),(0,D.jsxs)(d.Z,{mdDown:!0,children:[(0,D.jsx)(u.Z,{orientation:"vertical",flexItem:!0,sx:{borderRightWidth:1},style:{borderColor:oe}}),(0,D.jsx)(c.Z,{sx:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:1},fontSize:16,style:{alignItems:"end"},width:"35%",children:null===I||void 0===I||null===(n=I.task_type)||void 0===n?void 0:n.mini_type})]})]}),(0,D.jsx)(d.Z,{mdDown:!0,children:(0,D.jsx)(l.Z,{direction:"row",spacing:1,children:(0,D.jsxs)(c.Z,{sx:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:1},fontSize:15,style:{alignSelf:"flex-end"},children:[null===(t=I.from_date)||void 0===t?void 0:t.slice(0,10).replaceAll("-","/")," ~ ",null===(z=I.to_date)||void 0===z?void 0:z.slice(0,10).replaceAll("-","/")]})})})]}),(0,D.jsx)(P.Z,{style:{overflowY:"auto",maxHeight:"640px",display:"flex",flexGrow:1,flexDirection:"column"},children:(0,D.jsx)("div",{dangerouslySetInnerHTML:{__html:fe},style:{borderTop:"".concat(oe," solid 1px"),marginTop:"8px"}})})]}),(0,D.jsxs)(a.ZP,{item:!0,textAlign:"center",children:[(0,D.jsx)(a.ZP,{marginTop:1,children:(0,D.jsx)(c.Z,{})}),(0,D.jsxs)(a.ZP,{marginTop:2,children:[0===I.task_type.report_type&&!X&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(x.Z,{onClick:ge,children:(0,D.jsx)(E,{size:45,showLabel:!0,variant:"determinate",value:te,sx:{color:oe}})}),(0,D.jsx)(p.Z,{open:ue,onClose:je,"aria-labelledby":"draggable-dialog-title",children:(0,D.jsxs)(P.Z,{sx:{p:1,py:1.5},children:[(0,D.jsx)(h.Z,{id:"draggable-dialog-title",children:"Percentage of task."}),(0,D.jsxs)(f.Z,{children:[(0,D.jsx)(Z.Z,{children:"Enter percent"}),(0,D.jsx)(m.Z,{type:"number",size:"medium",value:te,onChange:ve,InputProps:{inputProps:{min:0,max:100}},InputLabelProps:{shrink:!0},placeholder:"%",onKeyDown:function(e){"Enter"===e.key&&te&&te<100&&te>0&&ye()}})]}),(0,D.jsxs)(v.Z,{children:[(0,D.jsx)(j.Z,{color:"error",onClick:je,children:"Cancel"}),(0,D.jsx)(j.Z,{variant:"contained",onClick:ye,children:"Ok"})]})]})})]}),0===I.task_type.report_type&&X&&(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(x.Z,{children:(0,D.jsx)(E,{size:45,showLabel:!0,variant:"determinate",value:te,sx:{color:oe}})})}),1===I.task_type.report_type&&!X&&le&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(x.Z,{sx:{color:q},onClick:function(){le&&(J("#00ff00"),xe(!0))},children:(0,D.jsx)(b.Z,{sx:{fontSize:"40px"}})}),(0,D.jsx)(p.Z,{open:ue,"aria-labelledby":"responsive-dialog-title",children:(0,D.jsxs)(P.Z,{sx:{p:1,py:1.5},children:[(0,D.jsx)(h.Z,{id:"responsive-dialog-title",children:"Have you done this task?"}),(0,D.jsx)(f.Z,{children:(0,D.jsx)(g.Z,{children:"Please confirm your task again. Have you done?"})}),(0,D.jsxs)(v.Z,{children:[(0,D.jsx)(j.Z,{color:"error",onClick:je,children:"Cancel"}),(0,D.jsx)(j.Z,{variant:"contained",onClick:ke,autoFocus:!0,children:"Ok"})]})]})})]}),1===I.task_type.report_type&&!X&&!le&&(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(x.Z,{onClick:ge,children:(0,D.jsx)(E,{size:45,showLabel:!0,variant:"determinate",value:te,sx:{color:oe}})})}),1===I.task_type.report_type&&X&&(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(b.Z,{sx:{fontSize:"40px"},color:"success"})}),2===I.task_type.report_type&&(0,D.jsx)(x.Z,{color:"info",style:{cursor:"default",fontSize:"40px",paddingRight:"13px"},children:(0,D.jsx)(T.Z,{})})]})]})]}),(0,D.jsxs)(k.Z,{style:{display:"flex",justifyContent:"space-between",paddingTop:"0px"},children:[(0,D.jsx)(P.Z,{children:(0,D.jsx)(y.Z,{style:{float:"left"},name:"customized-10",defaultValue:I.priority?I.priority:1,max:3,readOnly:!0})}),(0,D.jsxs)(P.Z,{children:[(0,D.jsx)(x.Z,{size:"small",onClick:function(){Ze(B?I.content.split("\n")[0]:I.content),K(!B)},color:"secondary",children:B?(0,D.jsx)(w.Z,{}):(0,D.jsx)(_.Z,{})}),!0===W&&0===I.task_type.report_type&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(x.Z,{color:"warning",onClick:ye,sx:{float:"right"},children:(0,D.jsx)(C.Z,{})}),(0,D.jsx)(m.Z,{type:"number",size:"small",value:te,onChange:ve,InputProps:{inputProps:{min:0,max:100}},sx:{float:"right"},InputLabelProps:{shrink:!0},placeholder:"%",contentEditable:!0})]})]})]})]})})}},94997:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(79581),s=t(9019),i=t(84793),o=t(61113),a=t(42832),l=t(47131),c=t(60515),d=t(58467),u=t(46417),x=function(e){var n=e.TaskCards,t=(0,d.s0)();return(0,u.jsxs)(u.Fragment,{children:[n.length>0&&n.slice(0,10).sort((function(e,n){return e.from_date-n.from_date})).map((function(e,n){return(0,u.jsx)(s.ZP,{item:!0,xs:12,sx:{p:.6},children:(0,u.jsx)(c.Z,{TaskCard:e})},n)})),0===n.length&&(0,u.jsx)(o.Z,{children:"No Task Assigned"}),n.length>10&&(0,u.jsxs)(a.Z,{style:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"flex-end  "},children:[(0,u.jsx)(o.Z,{children:"Click"}),(0,u.jsx)(l.Z,{style:{float:"right"},onClick:function(){return t("/task/view")},children:(0,u.jsx)(i.Z,{color:"primary",fontSize:"large"})}),(0,u.jsx)(o.Z,{children:"to read more."})]})]})},p=t(47313),h=t(41709),f=function(){var e=(0,r.v9)((function(e){return e.tasks.allTasks})),n=(0,r.I0)();return(0,p.useEffect)((function(){setTimeout((function(){return n((0,h.km)())}),100)}),[n]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.ZP,{container:!0,spacing:2,children:(0,u.jsx)(s.ZP,{item:!0,xs:12,md:12,lg:12,children:(0,u.jsx)(x,{TaskCards:e})})})})},Z=function(){var e,n,t=(0,r.v9)((function(e){return e.auth})),i=(0,r.v9)((function(e){return e.tasks})),a=(0,r.I0)();return(0,p.useEffect)((function(){setTimeout((function(){var e;return a((0,h.Kb)(null===(e=t.user)||void 0===e?void 0:e._id))}),100),setTimeout((function(){var e;return a((0,h.dc)(null===(e=t.user)||void 0===e?void 0:e.groupid))}),100)}),[a,null===(e=t.user)||void 0===e?void 0:e._id,null===(n=t.user)||void 0===n?void 0:n.groupid]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,u.jsxs)(s.ZP,{item:!0,xs:12,md:6,sm:12,lg:6,children:[(0,u.jsxs)(o.Z,{style:{textAlign:"center",fontSize:"20px"},children:["Team Tasks (",i.groupTasks.length,")"]}),(0,u.jsx)(x,{TaskCards:i.groupTasks})]}),(0,u.jsxs)(s.ZP,{item:!0,xs:12,md:6,sm:12,lg:6,children:[(0,u.jsxs)(o.Z,{style:{textAlign:"center",fontSize:"20px"},children:["My Tasks (",i.personalTasks.length,")"]}),(0,u.jsx)(x,{TaskCards:i.personalTasks})]})]})})},m=function(){var e,n=(0,r.v9)((function(e){return e.auth})),t=(0,r.v9)((function(e){return e.tasks})),i=(0,r.I0)();return(0,p.useEffect)((function(){setTimeout((function(){var e;return i((0,h.Kb)(null===(e=n.user)||void 0===e?void 0:e._id))}),100)}),[i,null===(e=n.user)||void 0===e?void 0:e._id]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.ZP,{container:!0,spacing:2,children:(0,u.jsxs)(s.ZP,{item:!0,xs:6,children:[(0,u.jsx)(o.Z,{style:{textAlign:"center",fontSize:"20px"},children:"My Tasks"}),(0,u.jsx)(x,{TaskCards:t.personalTasks})]})})})},v=function(){var e,n,t,s=(0,r.v9)((function(e){return e.auth}));return(0,u.jsxs)(u.Fragment,{children:["admin"===(null===(e=s.user)||void 0===e?void 0:e.role)&&(0,u.jsx)(f,{}),"Team Manager"===(null===(n=s.user)||void 0===n?void 0:n.role)&&(0,u.jsx)(Z,{}),"Developer"===(null===(t=s.user)||void 0===t?void 0:t.role)&&(0,u.jsx)(m,{})]})}},33604:function(e,n,t){var r=t(87462),s=t(63366),i=t(47313),o=t(83061),a=t(21921),l=t(61113),c=t(17592),d=t(77342),u=t(93174),x=t(63909),p=t(46417),h=["className","id"],f=(0,c.ZP)(l.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),Z=i.forwardRef((function(e,n){var t=(0,d.Z)({props:e,name:"MuiDialogTitle"}),l=t.className,c=t.id,Z=(0,s.Z)(t,h),m=t,v=function(e){var n=e.classes;return(0,a.Z)({root:["root"]},u.a,n)}(m),j=i.useContext(x.Z).titleId,g=void 0===j?c:j;return(0,p.jsx)(f,(0,r.Z)({component:"h2",className:(0,o.Z)(v.root,l),ownerState:m,ref:n,variant:"h6",id:null!=c?c:g},Z))}));n.Z=Z}}]);